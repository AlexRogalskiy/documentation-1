{"ast":null,"code":"import path from 'path';\nimport { writeFileSync } from 'fs';\nimport readFile from '@/core/fs/read-file';\nimport extractSections from './utils/extract-sections';\nexport default function generateSearchDefinitionsFromFiles(files) {\n  // eslint-disable-next-line no-console\n  console.log('event - generating search cache');\n  const cache = [];\n\n  for (const file of files) {\n    const {\n      meta\n    } = file;\n    const contents = readFile(path.resolve('docs/', meta.absolutePath));\n    const sections = extractSections(meta, contents);\n    cache.push(...sections);\n  }\n\n  writeFileSync(path.resolve('.search/sections.json'), JSON.stringify(cache), {\n    encoding: 'utf8'\n  });\n}","map":null,"metadata":{},"sourceType":"module"}