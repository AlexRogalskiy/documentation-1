{"ast":null,"code":"import React from 'react';\nimport * as hljs from 'highlight.js/lib/core';\nimport { Button } from 'antd'; // Icon for Copy Button\n\nimport { GrCopy } from 'react-icons/all';\nimport { useNotification } from '@/core/hooks/use-notification';\nimport styles from './markdown-components.module.scss';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nhljs.registerLanguage('yaml', require('highlight.js/lib/languages/yaml'));\nhljs.registerLanguage('csharp', require('highlight.js/lib/languages/csharp'));\nhljs.registerLanguage('javascript', require('highlight.js/lib/languages/javascript'));\nhljs.registerLanguage('typescript', require('highlight.js/lib/languages/typescript'));\nhljs.registerLanguage('bash', require('highlight.js/lib/languages/bash'));\nhljs.registerLanguage('ruby', require('highlight.js/lib/languages/ruby'));\nhljs.registerLanguage('powershell', require('highlight.js/lib/languages/powershell'));\n\nclass CodeBlock extends React.PureComponent {\n  constructor(properties) {\n    super(properties);\n    this.setRef = this.setRef.bind(this);\n  }\n\n  componentDidMount() {\n    this.highlightCode();\n  }\n\n  componentDidUpdate() {\n    this.highlightCode();\n  }\n\n  setRef(element) {\n    this.codeEl = element;\n  }\n\n  highlightCode() {\n    hljs.highlightBlock(this.codeEl);\n  }\n\n  render() {\n    const {\n      children,\n      language\n    } = this.props; // Add Styling to button here.\n    // TODO decide if the button should be left or right aligned.\n\n    const CopyButton = () => /*#__PURE__*/_jsx(\"div\", {\n      style: {\n        position: 'absolute',\n        top: 8,\n        right: 8\n      },\n      children: /*#__PURE__*/_jsx(Button, {\n        onClick: () => {\n          navigator.clipboard.writeText(children[0]);\n          useNotification().info({\n            message: 'Code Copied Successfully'\n          });\n        },\n        children: /*#__PURE__*/_jsx(GrCopy, {})\n      })\n    });\n\n    return /*#__PURE__*/_jsxs(\"pre\", {\n      className: styles.codeBlock,\n      children: [/*#__PURE__*/_jsx(CopyButton, {}), /*#__PURE__*/_jsx(\"div\", {\n        ref: this.setRef,\n        className: `language-${language}`,\n        children: children\n      })]\n    });\n  }\n\n}\n\nCodeBlock.defaultProps = {\n  language: ''\n};\nexport default CodeBlock;","map":null,"metadata":{},"sourceType":"module"}