{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { MenuNode } from '@/tools/menu/menu-node';\nimport { MenuSegment } from '@/tools/menu/menu-segment';\nimport React, { useContext } from 'react';\nimport { map } from 'lodash';\nimport { useDispatch, useSelector } from 'react-redux';\nimport MenuContext from '@/components/pages/docs/menu/menu-context';\nimport { selectedVersionsSelector, updateSelection } from '@/logic/versions/selected-version-slice';\nimport styles from './versioned-title.module.scss';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar mapVersions = function mapVersions(section, collection, selectedOption) {\n  var dispatch = useDispatch();\n\n  var onChange = function onChange(event) {\n    return dispatch(updateSelection({\n      section: section,\n      selection: event.target.value\n    }));\n  };\n\n  var noPropagation = function noPropagation(event) {\n    return event.stopPropagation();\n  };\n\n  return /*#__PURE__*/_jsx(\"div\", {\n    style: {\n      display: 'inline-block',\n      \"float\": 'right',\n      paddingRight: 4\n    },\n    children: /*#__PURE__*/_jsx(\"select\", {\n      value: selectedOption,\n      className: styles.versionSelect,\n      onChange: onChange,\n      onClick: noPropagation,\n      children: map(Object.entries(collection), function (_ref) {\n        var _ref2 = _slicedToArray(_ref, 2),\n            segment = _ref2[0],\n            node = _ref2[1];\n\n        if (!MenuSegment.isVersionContainer(segment)) return null;\n\n        var meta = node.meta,\n            versions = _objectWithoutProperties(node, [\"meta\"]);\n\n        return map(Object.entries(versions), function (_ref3) {\n          var _ref4 = _slicedToArray(_ref3, 1),\n              version = _ref4[0];\n\n          return /*#__PURE__*/_jsx(\"option\", {\n            value: version,\n            label: version\n          }, version);\n        });\n      })\n    })\n  });\n};\n\nvar VersionedTitle = function VersionedTitle(_ref5) {\n  var section = _ref5.section,\n      title = _ref5.title;\n\n  var _useContext = useContext(MenuContext),\n      menuStructure = _useContext.menuStructure;\n\n  var selected = useSelector(selectedVersionsSelector);\n  var docs = menuStructure.docs;\n\n  if (!MenuNode.hasVersionContainer(docs[section])) {\n    return title;\n  }\n\n  return /*#__PURE__*/_jsxs(\"span\", {\n    children: [/*#__PURE__*/_jsx(\"span\", {\n      children: title\n    }), mapVersions(section, docs[section], selected[section])]\n  });\n};\n\nexport default VersionedTitle;","map":null,"metadata":{},"sourceType":"module"}