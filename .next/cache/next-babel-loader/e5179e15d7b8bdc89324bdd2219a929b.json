{"ast":null,"code":"import React from 'react';\nimport { notification } from 'antd';\nimport Heading from '@/components/markdown/components/heading';\nimport { extractAnchorId } from '@/tools/search/utils/extract-sections';\nimport styles from './markdown-components.module.scss';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nconst copyUrlToClipboard = (hash, onSuccess = () => {}, onError = () => {}) => {\n  const {\n    href\n  } = window.location;\n  const hashIndex = href.indexOf('#');\n  const baseUrl = hashIndex >= 0 ? href.slice(0, hashIndex) : href;\n  const link = `${baseUrl}#${hash}`;\n  navigator.clipboard.writeText(link).then(onSuccess, onError);\n};\n\nconst onSuccessfullyCopied = () => {\n  notification.info({\n    message: `Link was copied to clipboard.`\n  });\n};\n\nconst HeadingWithAnchor = ({\n  level,\n  children\n}) => {\n  const value = React.Children.toArray(children)[0];\n  const anchorId = extractAnchorId(value);\n\n  const onClick = () => {\n    copyUrlToClipboard(anchorId, onSuccessfullyCopied);\n  };\n\n  const onKeyPress = event => {\n    if (event.keyCode === 13) {\n      copyUrlToClipboard(anchorId, onSuccessfullyCopied);\n    }\n  };\n\n  const anchor = /*#__PURE__*/_jsx(\"span\", {\n    onClick: onClick,\n    className: styles.anchor,\n    role: \"button\",\n    tabIndex: 0,\n    onKeyPress: onKeyPress,\n    children: \"#\"\n  });\n\n  return /*#__PURE__*/_jsxs(Heading, {\n    level: level,\n    id: anchorId,\n    children: [children, level >= 2 && anchor]\n  });\n};\n\nexport default HeadingWithAnchor;","map":null,"metadata":{},"sourceType":"module"}