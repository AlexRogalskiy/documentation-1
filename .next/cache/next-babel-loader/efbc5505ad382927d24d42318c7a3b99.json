{"ast":null,"code":"import React from 'react';\nimport { notification } from 'antd';\nimport Heading from '@/components/markdown/components/heading';\nimport { extractAnchorId } from '@/tools/search/utils/extract-sections';\nimport styles from './markdown-components.module.scss';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar copyUrlToClipboard = function copyUrlToClipboard(hash) {\n  var onSuccess = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {};\n  var onError = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : function () {};\n  var href = window.location.href;\n  var hashIndex = href.indexOf('#');\n  var baseUrl = hashIndex >= 0 ? href.slice(0, hashIndex) : href;\n  var link = \"\".concat(baseUrl, \"#\").concat(hash);\n  navigator.clipboard.writeText(link).then(onSuccess, onError);\n};\n\nvar onSuccessfullyCopied = function onSuccessfullyCopied() {\n  notification.info({\n    message: \"Link was copied to clipboard.\"\n  });\n};\n\nvar HeadingWithAnchor = function HeadingWithAnchor(_ref) {\n  var level = _ref.level,\n      children = _ref.children;\n  var value = React.Children.toArray(children)[0];\n  var anchorId = extractAnchorId(value);\n\n  var onClick = function onClick() {\n    copyUrlToClipboard(anchorId, onSuccessfullyCopied);\n  };\n\n  var onKeyPress = function onKeyPress(event) {\n    if (event.keyCode === 13) {\n      copyUrlToClipboard(anchorId, onSuccessfullyCopied);\n    }\n  };\n\n  var anchor = /*#__PURE__*/_jsx(\"span\", {\n    onClick: onClick,\n    className: styles.anchor,\n    role: \"button\",\n    tabIndex: 0,\n    onKeyPress: onKeyPress,\n    children: \"#\"\n  });\n\n  return /*#__PURE__*/_jsxs(Heading, {\n    level: level,\n    id: anchorId,\n    children: [children, level >= 2 && anchor]\n  });\n};\n\nexport default HeadingWithAnchor;","map":null,"metadata":{},"sourceType":"module"}