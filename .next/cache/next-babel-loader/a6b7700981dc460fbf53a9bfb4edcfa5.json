{"ast":null,"code":"import config from '@/core/config';\nimport { useUser } from 'reactfire';\nexport function useAuthenticatedEndpoint(endpoint, payload) {\n  const {\n    data: user\n  } = useUser();\n  return async () => {\n    const token = await user.getIdToken();\n    const response = await fetch(`${config.backendUrl}/${endpoint}`, {\n      headers: {\n        Authorization: `Bearer ${token}`,\n        'Content-Type': 'application/json'\n      },\n      mode: 'cors',\n      method: 'POST',\n      body: JSON.stringify(payload)\n    });\n    return response.json();\n  };\n}","map":null,"metadata":{},"sourceType":"module"}